<?xml version="1.0" encoding="UTF-8"?>

<model name="cnrmissioni:workflowmodel" xmlns="http://www.alfresco.org/model/dictionary/1.0">

	<description>Workflow Model per FLUSSO MISSIONI - Autorizzazioni per l'Ordine di Missioni con e senza Anticipo</description>
	<author>Massimo Fraticelli</author>
	<version>1.0</version>

	<imports>
		<import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
		<import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
		<import uri="http://www.cnr.it/model/workflow/1.0" prefix="wfcnr"/>
	</imports>

	<namespaces>
		<namespace uri="http://www.cnr.it/model/cnrmissioni/1.0" prefix="cnrmissioni"/>
	</namespaces>

	<!--  TYPES -->
	<types> 
		<type name="cnrmissioni:submitFlussoMissioniTask">
			<title>AVVIO FLUSSO MISSIONI</title>
			<description>Avvio del FLUSSO MISSIONI</description>
			<parent>wfcnr:submitGroupReviewTask</parent>
			<mandatory-aspects>
				<aspect>cnrmissioni:parametriFlussoMissioni</aspect>
			</mandatory-aspects>
		</type>

		<type name="cnrmissioni:vistoTask">
			<title>VISTO</title>
			<description>Vista Ordine di Missione</description>
			<parent>wfcnr:simpleTask</parent>
		</type>

		<type name="cnrmissioni:firmaTask">
			<title>FIRMA</title>
			<description>Firma Ordine di Missione</description>
			<parent>wfcnr:activitiReviewTask</parent>
			<overrides>
				<property name="wfcnr:reviewOutcome">
					<default>Respingi</default>
				</property>
			</overrides>
			<mandatory-aspects>
				<aspect>wfcnr:parametriFirma</aspect>
			</mandatory-aspects>
		</type>

	</types>

	<!-- ASPECTS -->
	<aspects>
		<aspect name="cnrmissioni:parametriFlussoMissioni">
			<properties>
				<property name="cnrmissioni:validazioneSpesaFlag">
					<title>Flag Validazione Spesa</title>
					<description>Flag Validazione Spesa</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:missioneConAnticipoFlag">
					<title>Flag Missione Con Anticipo</title>
					<description>Flag Missione Con Anticipo</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:validazioneModuloFlag">
					<title>Flag Validazione Modulo</title>
					<description>Flag Validazione Modulo</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:userNameRichiedente">
					<title>UserName Utente Richiedente</title>
					<description>UserName Utente Richiedente</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:userNameResponsabileModulo">
					<title>UserName Responsabile Modulo</title>
					<description>UserName Responsabile Modulo</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:userNamePrimoFirmatario">
					<title>UserName Direttore Primo Firmatario</title>
					<description>UserName Direttore Primo Firmatario</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:userNameFirmatarioSpesa">
					<title>UserName Direttore Firmatario Spesa</title>
					<description>UserName Direttore Firmatario Spesa</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:uoOrdine">
					<title>UO Ordine</title>
					<description>UO Ordine</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:descrizioneUoOrdine">
					<title>Descrizione UO Ordine</title>
					<description>Descrizione UO Ordine</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:uoSpesa">
					<title>UO Spesa</title>
					<description>UO Spesa</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:descrizioneUoSpesa">
					<title>Descrizione UO Spesa</title>
					<description>Descrizione UO Spesa</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:autoPropriaFlag">
					<title>Flag Auto propria</title>
					<description>Flag Auto propria</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:noleggioFlag">
					<title>Flag Noleggio</title>
					<description>Flag Noleggio</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:taxiFlag">
					<title>Flag Taxi</title>
					<description>Flag Taxi</description>
					<type>d:boolean</type>
				</property>
				<property name="cnrmissioni:capitolo">
					<title>Capitolo Spesa</title>
					<description>Capitolo Spesa</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:descrizioneCapitolo">
					<title>Descrizione Capitolo spesa</title>
					<description>Descrizione Capitolo spesa</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:modulo">
					<title>Modulo</title>
					<description>Modulo</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:descrizioneModulo">
					<title>Descrizione Modulo</title>
					<description>Descrizione Modulo</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:gae">
					<title>GAE</title>
					<description>GAE</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:descrizioneGae">
					<title>Descrizione GAE</title>
					<description>Descrizione GAE</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:impegnoAnnoResiduo">
					<title>Anno Impegno Residuo</title>
					<description>Anno Impegno Residuo</description>
					<type>d:int</type>
				</property>
				<property name="cnrmissioni:impegnoAnnoCompetenza">
					<title>Anno Impegno Competenza</title>
					<description>Anno Impegno Competenza</description>
					<type>d:int</type>
				</property>
				<property name="cnrmissioni:impegnoNumero">
					<title>Impegno Numero</title>
					<description>Impegno Numero</description>
					<type>d:int</type>
				</property>
				<property name="cnrmissioni:descrizioneImpegno">
					<title>Descrizione Impegno</title>
					<description>Descrizione Impegno</description>
					<type>d:text</type>
				</property>
				<property name="cnrmissioni:importoMissione">
					<title>Importo Missione</title>
					<description>Importo Missione</description>
					<type>d:float</type>
				</property>
				<property name="cnrmissioni:disponibilita">
					<title>Disponibilita</title>
					<description>Disponibilita</description>
					<type>d:float</type>
				</property>
				<property name="cnrmissioni:tipologiaDocumentoMissione">
					<title>Tipologia Documento di Missione</title>
					<description>Tipologia Documento di Missione</description>
					<type>d:text</type>
				</property>
			</properties>
		</aspect>
	</aspects>
</model>