
<div class="row text-center">

  <div class="btn-group">
    <button class="btn btn-default" ng-class="{active: choice === 'start'}" ng-click="show('start')">Avvia nuovo flusso</button>
    <button class="btn btn-default" ng-class="{active: choice === 'tasks'}" ng-click="show('tasks')">I miei compiti</button>
    <button class="btn btn-default" ng-class="{active: choice === 'workflows'}" ng-click="show('workflows')">I flussi avviati da me</button>
  </div>
</div>

<blockquote class="row" ng-hide="choice">
  tutorial sull'utilizzo dell'applicazione
</blockquote>

<div class="row" ng-show="choice == 'start'">
  <h3>Avvia nuovo flusso</h3>
  <ul class="list-unstyled">
    <li ng-repeat="workflowDefinition in workflowDefinitions">
      <h4>{{workflowDefinition.title}}</h4>
      <span class="text-muted">{{workflowDefinition.description}}</span>
      <a class="btn btn-sm btn-default" ng-href="#/start-workflow/{{workflowDefinition.id}}"><span class="glyphicon glyphicon-flash"></span> Avvia flusso</a>
      <a class="btn btn-default btn-sm" ng-click="modalDiagram(workflowDefinition)"><span class="glyphicon glyphicon-eye-open"></span> Diagramma</a>

    </li>
    <span ng-hide="workflowDefinitions.length > 0">nessun flusso abilitato</span>
</div>

<div class="row" ng-show="choice == 'tasks'">
  <h3>I miei compiti</h3>
  <ul ng-show="tasks.length" class="list-unstyled">
    <li ng-repeat="task in tasks">
      <h4><a class="btn btn-info" ng-href="#/task/{{task.id}}">info</a> {{task.properties.wfcnr_wfCounterId}} ({{task.workflowInstance.title}})<span ng-bind-html="task.properties.bpm_priority | priority"></span></h4>
      <span ng-show="task.isPooled" class="label label-primary">compito assegnato al pool</span>
      compito <b>{{task.title}}</b>, descrizione: <b>{{task.description}}</b>
      avviato da {{task.workflowInstance.initiator.firstName}} {{task.workflowInstance.initiator.lastName}}
      il {{task.workflowInstance.startDate | date}}
      <span ng-bind-html="task.properties.bpm_dueDate | dueDate"></span>
    </li>
  </ul>
  <span ng-hide="tasks.length > 0">nessun task assegnato</span>
</div>

<div class="row" ng-show="choice == 'workflows'">
  <h3>I flussi avviati da me</h3>
  <ul ng-show="startedWorkflows.length">

    <li ng-repeat="startedWorkflow in startedWorkflows"><a class="btn btn-info" ng-href="#/workflow/{{startedWorkflow.id}}">info</a> {{startedWorkflow.title}} avviato il  {{startedWorkflow.startDate | date}} <span ng-show="startedWorkflow.dueDate">con scadenza {{startedWorkflow.dueDate | date}}</span></li>
  </ul>
  <span ng-hide="startedWorkflows.length > 0">nessun workflow avviato</span>
</div>